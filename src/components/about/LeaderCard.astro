---
// Images
import LinkedinLogo from "@/icons/icon-linkedin.svg";
import TwitterLogo from "@/icons/icon-twitter.svg";

import CustomPicture from "../ui/CustomPicture.astro";
import Heading from "../ui/Heading.astro";

interface Props {
  name: string;
  role: string;
  img: ImageMetadata;
}

const { name, role, img } = Astro.props;
---

<li>
  <div class="hover__wrapper">
    <CustomPicture
      desktopURL={img}
      mobileWidth={img.width}
      mobileHeight={img.height}
      alt={`${name} headshot`}
      priority={false}
    />
    <div class="socials">
      <a
        class="social-link linkedin"
        href="#"
        aria-label={`${name} Linkedin Account`}
      >
        <LinkedinLogo aria-hidden="true" />
      </a>
      <a
        class="social-link twitter"
        href="#"
        aria-label={`${name} Twitter Account`}
      >
        <TwitterLogo aria-hidden="true" />
      </a>
    </div>
  </div>
  <div class="info">
    <Heading title={name} tag="h3" size="h4" />
    <span class="role">{role}</span>
  </div>
</li>

<style>
  .hover__wrapper {
    position: relative;

    &:after {
      content: "";
      position: absolute;
      inset: 0;
      opacity: 0;
      z-index: 1;
      background-color: var(--clr-neutral-950);
      pointer-events: none;

      transition: 200ms ease-in-out;
      transition-property: opacity;
    }

    &:hover::after {
      opacity: 0.5;
    }
  }

  .hover__wrapper:hover .social-link {
    z-index: 2;
    opacity: 1;
    visibility: visible;
  }

  .linkedin:hover {
    color: hsl(210, 85%, 40%);
  }
  .twitter:hover {
    color: hsl(204, 89%, 54%);
  }

  .socials {
    position: absolute;
    inset: 0;
    display: flex;
    gap: 32px;
    justify-content: center;
    align-items: center;

    a {
      opacity: 0;
      visibility: hidden;
      color: var(--clr-neutral-0);
      transition: 200ms ease-in-out;
      transition-property: opacity, visibility, color;
    }
  }

  .info {
    margin-block-start: 16px;
    color: var(--clr-primary-zinc-900);
  }

  span {
    opacity: 0.75;
  }
</style>
